#include <stdio.h>
#include <conio.h>
#include <dos.h>

#define ROWS 10
#define COLS 20

char maze[ROWS][COLS] = {
    "###################",
    "#S     #         E#",
    "# ### ##### #######",
    "#   #     #       #",
    "### ### # ####### #",
    "#     # #     #   #",
    "# ### # ### # ### #",
    "#   #     # #     #",
    "##### ### # #######",
    "###################"
};

int px = 1, py = 1;  // Starting position at 'S'

void drawMaze() {
    clrscr();
    for (int i = 0; i < ROWS; i++) {
        for (int j = 0; j < COLS; j++) {
            if (i == px && j == py)
                putch('@');  // Player
            else
                putch(maze[i][j]);
        }
        printf("\n");
    }
}

int main() {
    char ch;
    drawMaze();

    while (1) {
        ch = getch();
        int nx = px, ny = py;

        if (ch == 0) {
            ch = getch();  // arrow key
            if (ch == 72) nx--;      // up
            else if (ch == 80) nx++; // down
            else if (ch == 75) ny--; // left
            else if (ch == 77) ny++; // right
        }

        if (maze[nx][ny] == ' ' || maze[nx][ny] == 'E') {
            px = nx;
            py = ny;
        }

        drawMaze();

        if (maze[px][py] == 'E') {
            printf("\nYou reached the exit! Press any key...");
            getch();
            break;
        }

        delay(100);
    }

    return 0;
}
